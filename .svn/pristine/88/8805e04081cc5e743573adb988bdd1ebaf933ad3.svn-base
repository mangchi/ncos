package mil.ln.ncos.client.service;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.stereotype.Service;

import lombok.RequiredArgsConstructor;

@Service
@RequiredArgsConstructor
public class UdpOutboundService {

	@Value("${spring.profiles.active}")
	private String activeProfile;

	@Value("${prodMode}")
	private String prodMode;

	@Value("${udpClient}")
	private String udpClient;

	private final OutboudService messageService;

	public void send(int messageType) {
		if (prodMode.equals("Y") && Boolean.parseBoolean(udpClient)) {
			try {

				switch (messageType) {
				case 1:
					messageService.sendHeartBeat();
					break;
				case 2:
					messageService.sendThreatInfo();
					break;
				case 3:
					messageService.sendAssertInfo();
					break;
				default:
					break;
				}

			} catch (Exception e) {
				e.printStackTrace();
			}

		}

	}

}
